<h2 mat-dialog-title>Add New Market</h2>
<mat-dialog-content>
    <form [formGroup]="marketForm">
        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Market Name</mat-label>
            <input matInput formControlName="marketName" placeholder="Enter market name" />
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Address</mat-label>
            <input matInput formControlName="address" placeholder="Enter market address" />
        </mat-form-field>

        <!-- Scrollable container for places -->
        <div class="scrollable-container">
            <div formArrayName="marketPlacesList" *ngFor="let place of marketPlacesList.controls; let i = index">
                <div [formGroupName]="i" class="place-form">
                    <mat-form-field appearance="fill" class="full-width">
                        <mat-label>Place Name</mat-label>
                        <input matInput formControlName="placeName" placeholder="Enter place name" />
                    </mat-form-field>

                    <!-- File input for place image -->
                    <div class="full-width">
                        <input type="file" (change)="onImageSelected($event, i)" />
                    </div>

                    <button mat-icon-button color="warn" (click)="removePlace(i)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </div>
        </div>

        <button mat-button color="primary" (click)="addPlace()">Add Place</button>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-button color="primary" (click)="onSubmit()">Save</button>
</mat-dialog-actions>
