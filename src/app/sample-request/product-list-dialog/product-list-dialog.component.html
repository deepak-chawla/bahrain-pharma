<h2 mat-dialog-title>Product List</h2>
<mat-dialog-content class="dialog-content">
    <form [formGroup]="productListForm">
        <table mat-table [dataSource]="products.controls" class="full-width">
            <!-- Product Name Column -->
            <ng-container matColumnDef="productName">
                <th mat-header-cell *matHeaderCellDef> Product Name </th>
                <td mat-cell *matCellDef="let product; let i = index" [formGroup]="product">
                    <input matInput formControlName="productName" placeholder="Product Name">
                </td>
            </ng-container>

            <!-- Unit Column -->
            <ng-container matColumnDef="unit">
                <th mat-header-cell *matHeaderCellDef> Unit </th>
                <td mat-cell *matCellDef="let product; let i = index" [formGroup]="product">
                    <input matInput formControlName="unit" placeholder="Unit">
                </td>
            </ng-container>

            <!-- Quantity Column -->
            <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef> Quantity </th>
                <td mat-cell *matCellDef="let product; let i = index" [formGroup]="product">
                    <input matInput type="number" formControlName="quantity" placeholder="Quantity">
                </td>
            </ng-container>

            <!-- Description Column -->
            <ng-container matColumnDef="desc">
                <th mat-header-cell *matHeaderCellDef> Description </th>
                <td mat-cell *matCellDef="let product; let i = index" [formGroup]="product">
                    <input matInput formControlName="desc" placeholder="Description">
                </td>
            </ng-container>

            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let product; let i = index">
                    <button mat-icon-button color="warn" (click)="removeProduct(i)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="['productName', 'unit', 'quantity', 'desc', 'actions']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['productName', 'unit', 'quantity', 'desc', 'actions'];"></tr>
        </table>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button (click)="addProduct()">Add Product</button>
    <button mat-button (click)="closeDialog()">Cancel</button>
    <button mat-raised-button color="primary" (click)="save()">Save</button>
</mat-dialog-actions>
