<div>
    <div class="d-flex flex-column" id="content-wrapper">
        <div id="content">
            <div class="container-fluid">
                <h2 class="text-dark mb-4">Send Notification</h2>
                <mat-card class="mat-elevation-z4">
                    <mat-card-header>
                        <mat-card-title>
                            <p class="text-primary m-0 font-weight-bold">Notification Details</p>
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <form
                                (ngSubmit)="sendNotification(notificationForm)"
                                #notificationForm="ngForm"
                                class="needs-validation"
                        >
                            <div class="form-group">
                                <mat-form-field class="full-width" appearance="fill">
                                    <mat-label>Username</mat-label>
                                    <mat-select
                                            [(ngModel)]="notification.username"
                                            name="username"
                                            required
                                            #username="ngModel"
                                    >
                                        <mat-option value="" disabled>Select a Username</mat-option>
                                        <mat-option *ngFor="let user of users" [value]="user.id">
                                            {{ user.username }}
                                        </mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="username.errors?.required && username.touched">
                                        Username is a required field
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field class="full-width" appearance="fill">
                                    <mat-label>Title</mat-label>
                                    <input
                                            matInput
                                            [(ngModel)]="notification.title"
                                            type="text"
                                            placeholder="Title"
                                            name="title"
                                            required
                                            #title="ngModel"
                                    />
                                    <mat-error *ngIf="title.errors?.required && title.touched">
                                        Title is a required field
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="form-group">
                                <mat-form-field class="full-width" appearance="fill">
                                    <mat-label>Description</mat-label>
                                    <textarea
                                            matInput
                                            [(ngModel)]="notification.description"
                                            placeholder="Description"
                                            name="description"
                                            required
                                            #description="ngModel"
                                    ></textarea>
                                    <mat-error *ngIf="description.errors?.required && description.touched">
                                        Description is a required field
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div class="form-group text-center">
                                <button mat-raised-button color="primary" type="submit" name="submit">
                                    Send Notification
                                </button>
                                <p *ngIf="notificationSent" class="text-success ml-2">
                                    Notification sent successfully!
                                </p>
                                <p *ngIf="notificationError" class="text-danger ml-2">
                                    {{notificationError}}
                                </p>
                            </div>
                        </form>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </div>
</div>
